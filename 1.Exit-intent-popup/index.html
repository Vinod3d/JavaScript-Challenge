<!DOCTYPE html>
<html>

<head>
  <title>Exit intent Popup</title>
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <!-- Sign Up Popup -->
  <div class="center">
    <button id='open-subscribe-form'>
      Subscribe
    </button>
  </div>


  <div class="modal-bg hide" id="exit-popup">
    <div class="modal-container">
      <div class="modal">
        <div class="modal-content">
          <h2>GET $10 OFF WHEN YOU SIGN UP FOR</h2>
          <p>SAVINGS, NEWS, UPDATES AND MORE</p>
          <form action="#" id="myForm">
            <input type="text" name="name" placeholder="your name">
            <input type="email" name="email" placeholder="email address">
            <div class="form-group">
              <input type="checkbox" id="checkbox">
              <label for="checkbox">Check this box to receive monthly newsletter</label>
            </div>
            <button type="submit">SIGN UP</button>
            <a href="#">PRIVACY POLICY</a>
          </form>

        </div>
        <div class="modal-banner">
          <div class="modal-img">
            <img src="img/banner.png" alt="">
          </div>
        </div>
      </div>
      <button class="close-btn" id="exit-popup-close">
        &times;
      </button>
    </div>
  </div>

  <script>
    //        document.querySelector("#open-subscribe-form").addEventListener("click",function(){
    //         document.querySelector(".subscribe-form").classList.add("active");
    //         });

    //         document.querySelector(".subscribe-form .close-btn").addEventListener("click",function(){
    //   document.querySelector(".subscribe-form").classList.remove("active");
    // });

    var form = document.forms.myForm
    var name = document.forms.myForm.name.value
    var email = document.forms.myForm.email.value
    let lang = document.forms.myForm.lang.value
    let checkbox = document.forms.myForm.checkbox.value
    const exitPopup = document.querySelector("#exit-popup");
    const exitPopupClose = document.querySelector("#exit-popup-close");


    // form.addEventListener("submit", function (event) {
    //   if (name === "" || email === "" || lang === "") {
    //     alert("Please fill details in all fields.");
    //     return;
    //   } else {
    //     document.cookie = "name=" + document.forms.myForm.username.value;
    //     document.cookie = "email=" + document.forms.myForm.email.value;
    //     document.cookie = "lang=" + document.forms.myForm.lang.value;
    //   }
    //   if (!checkbox) {
    //     alert("Please check the checkbox.");
    //     return;
    //   }
    // });


    const hideExitPopup = () => exitPopup.classList.add("hide");
    const showExitPopup = () => exitPopup.classList.remove("hide");

    document.addEventListener("mouseleave", showExitPopup);
    exitPopupClose.addEventListener("click", hideExitPopup);
  </script>
</body>

</html>